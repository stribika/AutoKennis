(function(){var n=0;var d=document.getElementById("form_init_script").getAttribute("data-name");var h=d+"common/libs_js/jquery-1.4.4.min.js";var b;var g=[d+"common/libs_js/jquery-ui-1.8.9.custom.min.js",d+"common/libs_js/jquery.ui.datepicker.js",d+"common/js/jquery.validate.js",d+"common/libs_js/jquery.metadata.js",d+"common/libs_js/jquery.placeholder.min.js",d+"validation_data.js?"+Math.floor(Math.random()*1001),d+"common/js/validation.js"];if(navigator.appName=="Microsoft Internet Explorer"){g.splice(0,0,d+"common/libs_js/json2.js")}var l=[d+"common/css/jquery-ui-1.8.5.custom.css",d+"common/css/normalize.css"];var a=function(){$.noConflict();b=jQuery;b(document).ready(function(){for(var r=0;r<g.length;r++){c(g[r],o)}})};var o=function(){if(n<g.length-1){n++;return}else{p()}};function m(){b.each(b("#docContainer img"),function(t,s){var u=b(s).attr("src");var i=u.search("common");if(i==-1){i=u.search("theme")}var r=u.substr(0,i);u=u.replace(r,"");b(s).attr("src",u)});b.each(b("#docContainer, #docContainer *"),function(u,t){if(t.style.backgroundImage){var r=b(t).css("background-image");var v=r.search("http");if(v==-1){v=r.search("file")}var i=r.search("common");if(i==-1){i=r.search("theme")}if(v>=0){var s=r.substr(v,i-v);r=r.replace(s,"")}b(t).css("background-image",r)}})}function f(){jQuery.validator.addMethod("phoneUS",function(i,r){i=i.replace(/[ext]{1,3}\.?\s*[\d]+$/,"");i=i.replace(/\s+/g,"");return this.optional(r)||i.match(/^\(\d{3}\)\d{3}-\d{4}$/)||i.match(/^1-[\d-]{12}$/)||i.match(/^[\d-.]{12}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phoneUK",function(i,r){i=i.replace(/[ext]{1,3}\.?\s*[\d]+$/,"");i=i.replace(/\s+/g,"");return this.optional(r)||i.match(/^\(0\d{2}\)\d{8}$/)||i.match(/^\(0\d{3}\)\d{7}$/)||i.match(/^\(0\d{4}\)\d{5,6}$/)||i.match(/^\(0\d{5}\)\d{4,5}$/)||i.match(/^0\d{9,10}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("mobileUK",function(i,r){i=i.replace(/[ext]{1,3}\.?\s*[\d]+$/,"");i=i.replace(/\s+/g,"");return this.optional(r)||i.match(/^07\d{9}$/)},"Please specify a valid mobile number");jQuery.validator.addMethod("international",function(i,r){i=i.replace(/[ext]{1,3}\.?\s*[\d]+$/,"");i=i.replace(/\s+/g,"");i=i.replace(/[^\d+]/g,"");return this.optional(r)||i.match(/^\+?\d{9,15}$/)},"Please enter a valid phone number");jQuery.validator.addMethod("regex_config",function(u,i,v){try{var t=/^(\W)([^\1]+)\1(.*)$/.exec(v);var r=new RegExp(t[2],t[3]);return this.optional(i)||r.test(u)}catch(s){return false}},"Please enter a value matching the regular expression");jQuery.validator.addMethod("decimals",function(u,r,v){try{var i=v;if(i=="zero"){i=0}var s=new RegExp("^-?\\d+\\.?\\d{0,"+i+"}?$");return this.optional(r)||s.test(u)}catch(t){return false}},"Please enter a valid number.")}function k(){var r=[];var v=[];if(data_jsplugins!=undefined&&data_jsplugins.length>0){r=JSON.parse(data_jsplugins)}if(data_cssplugins!=undefined&&data_cssplugins.length>0){v=JSON.parse(data_cssplugins)}for(var u=0;u<r.length;u++){var s=r[u];if("https:"==document.location.protocol&&s.substr(0,5)!="https"){s=s.replace("http","https")}c(s)}for(var u=0;u<v.length;u++){var t=v[u];if("https:"==document.location.protocol&&t.substr(0,5)!="https"){t=t.replace("http","https")}q(t)}}function j(){b("#fb_paypalwps, #fb_googlepay, #fb_authnet, #fb_2checkout").click(function(){b.ajax({url:"",data:{action:"submitpayment",gateway:this.id},async:false})})}function p(){if((document.getElementById("docContainer")==null)||(document.getElementById("docContainer").tagName.toLowerCase()!="form")||b("#docContainer").attr("action")==undefined){k();j();return}var w=document.getElementById("fb_js_enable");if(w!=null&&w!=undefined){w.setAttribute("value","1")}b("#docContainer .column").contents().filter(function(){return this.nodeType===3}).remove();f();var s=document.getElementById("docContainer").getAttribute("data-form")=="preview";b.each(b("input[type=date]"),function(z,y){var x=b(y).wrap("<div></div>").parent().html().replace('type="date"','type="text"');b(y).replaceWith(x)});var v=new ValidateClient(b);v.init_client(s);if(b('input[name="fb_form_custom_html"]').length&&b("#docContainer").attr("data-form")=="automated"&&b("#docContainer").attr("action")!="./"){b('input[name="fb_form_custom_html"]').get(0).value=parent.location.href}if(b('input[name="fb_form_embedded"]').length&&parent.frames.length!=0&&b("#docContainer").attr("data-form")=="publish"){b('input[name="fb_form_embedded"]').get(0).value="1"}if(b("#docContainer").attr("data-form")=="automated"&&(b("#docContainer").attr("action")==document.location.href||parent.frames.length!=0)){m()}if((b("#docContainer").attr("data-form")=="publish"||b("#docContainer").attr("data-form")=="automated")&&parent.frames.length!=0||b("#docContainer").attr("action").indexOf("http")!=-1||b("#docContainer").attr("action")=="./"){b('#docContainer input[type!="submit"],#docContainer select,#docContainer textarea').change(function(x){b('#docContainer input[type!="submit"],#docContainer select,#docContainer textarea').unbind(x);var y=b("#docContainer").attr("action");y=y.replace(/(?:\.php)|\/$/i,"/fbapp/api/formchangestats.php");b.get(y)})}b("#docContainer .fb-checkbox, #docContainer .fb-radio, #docContainer .fb-dropdown, #docContainer .fb-listbox").parent().mouseleave(function(){var x=b(".showing_hint",this);if(x!=undefined){x.removeClass("showing_hint").addClass("hidden_hint")}});b("#docContainer input:file").parent().parent().mouseleave(function(){var x=b(".showing_hint",this);if(x!=undefined){x.removeClass("showing_hint").addClass("hidden_hint")}});b("#docContainer input:checkbox, #docContainer input:radio").blur(function(){var x=b(".showing_hint",b(this).parent().parent().parent());if(x!=undefined){x.removeClass("showing_hint").addClass("hidden_hint")}});b("#docContainer .column select, #docContainer .column input, #docContainer .column textarea").blur(function(){var x=b(".showing_hint",b(this).parent().parent());if(x!=undefined){x.removeClass("showing_hint").addClass("hidden_hint")}});b("#docContainer .fb-checkbox, #docContainer .fb-radio, #docContainer .fb-dropdown, #docContainer .fb-listbox").parent().mouseenter(function(){var x=b(".hidden_hint",this);if(x!=undefined){x.removeClass("hidden_hint").addClass("showing_hint")}});b("#docContainer input:file").parent().parent().mouseenter(function(){var x=b(".hidden_hint",this);if(x!=undefined){x.removeClass("hidden_hint").addClass("showing_hint")}});b("#docContainer input:checkbox, #docContainer input:radio").focus(function(){var x=b(".hidden_hint",b(this).parent().parent().parent());if(x!=undefined){x.removeClass("hidden_hint").addClass("showing_hint")}});b("#docContainer .column select, #docContainer .column input, #docContainer .column textarea").focus(function(){var x=b(".hidden_hint",b(this).parent().parent());if(x!=undefined){x.removeClass("hidden_hint").addClass("showing_hint")}});b("input:file").change(function(){b("#docContainer").validate().element(this)});b("input[type=url]").blur(function(){b("#docContainer").validate().element(this)});b("input[type=email]").blur(function(){b("#docContainer").validate().element(this)});b("input[type=password]").blur(function(){b("#docContainer").validate().element(this)});b("input[type=tel]").blur(function(){b("#docContainer").validate().element(this)});if(navigator.appName=="Microsoft Internet Explorer"){b("input[type=tel]").keyup(function(){return false});var r=parseFloat(navigator.appVersion.split("MSIE")[1]);if(r<9){var t=true;b("#docContainer select").mousedown(function(){if(t){var y=parseInt(b(this).css("width"));var x=parseInt(b(this).css("width","auto").css("width"));if(y>x){b(this).css("width","")}}t=false}).blur(function(){b(this).css("width","");t=true}).change(function(){b(this).css("width","");t=true})}}b("input[type=number]").keyup(function(){var x=b("#docContainer").validate().element(this);if(navigator.appName!="Microsoft Internet Explorer"&&b("#"+this.id+":invalid").length>0&&(x==undefined||x==true)){var z=this.name;var y={};y[z]="Input must be a valid number";b("#docContainer").validate().showErrors(y)}else{b('label[for="'+this.id+'"]').remove();b("#docContainer").validate().element(this)}}).blur(function(){b('label[for="'+this.id+'"]').remove();b("#docContainer").validate().element(this)});var u="placeholder" in document.createElement("input");var i="placeholder" in document.createElement("textarea");if(!u){b("#docContainer input").not('[type="password"]').placeholder()}if(!i){b("#docContainer textarea").placeholder()}k()}var c=function(i,s){var r=document.createElement("script");r.setAttribute("type","text/javascript");r.setAttribute("src",i);if(s!=undefined){if(r.addEventListener){r.addEventListener("load",s,false)}else{if(r.attachEvent){r.attachEvent("onreadystatechange",function(){if(r.readyState=="complete"||r.readyState=="loaded"){s()}})}}}document.getElementsByTagName("head")[0].appendChild(r)};var q=function(i){var r=document.createElement("link");r.setAttribute("rel","stylesheet");r.setAttribute("type","text/css");r.setAttribute("href",i);document.getElementsByTagName("head")[0].appendChild(r)};for(var e=0;e<l.length;e++){q(l[e])}c(h,a)})();